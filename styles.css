
:root{
  --bg:#0e0e0e;
  --panel:#1c1c1c;
  --text:#f5f5f5;
  --muted:#bdbdbd;
  --accent:#ffd54f;
  --chip:#2a2a2a;
  --chip-border:#3a3a3a;
}
*{box-sizing:border-box}
html,body,#map{height:100%;margin:0;padding:0}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;background:var(--bg);color:var(--text)}
#map{position:fixed;inset:0}

.topbar{
  position:fixed;top:10px;left:50%;transform:translateX(-50%);
  background:var(--panel);border:1px solid #2b2b2b;padding:8px 10px;border-radius:14px;
  display:flex;gap:8px;align-items:center;z-index:1000;box-shadow:0 6px 24px rgba(0,0,0,.35);
}
.topbar input{
  background:#111;border:1px solid #2b2b2b;color:var(--text);
  border-radius:12px;padding:8px 10px;min-width:220px;outline:none;
}
.chips{display:flex;gap:6px;flex-wrap:wrap}
.chip{
  background:var(--chip);border:1px solid var(--chip-border);
  color:var(--text);border-radius:999px;padding:6px 10px;cursor:pointer;font-size:13px;
}
.chip.active{outline:2px solid var(--accent);}

.fab{
  position:fixed;right:12px;bottom:12px;z-index:1100;
  display:flex;flex-direction:column;gap:10px;
}
.btn{
  background:var(--panel);border:1px solid #2b2b2b;color:var(--text);
  border-radius:14px;padding:10px 12px;cursor:pointer;box-shadow:0 6px 24px rgba(0,0,0,.35);
}
.btn:active{transform:scale(0.98)}

.sidebar{
  position:fixed;left:10px;bottom:10px;z-index:1050;max-width:min(92vw,420px);
  background:var(--panel);border:1px solid #2b2b2b;border-radius:16px;padding:10px;
  max-height:55vh;overflow:auto;box-shadow:0 6px 24px rgba(0,0,0,.35);
}
.stop{padding:8px;border-bottom:1px dashed #333;cursor:pointer}
.stop:last-child{border-bottom:none}
.stop small{color:var(--muted);display:block;margin-top:2px}
.legend{display:flex;gap:10px;flex-wrap:wrap;margin-top:6px}
.badge{display:inline-flex;align-items:center;gap:6px;background:#141414;border:1px solid #2c2c2c;padding:4px 8px;border-radius:999px}
.badge .dot{width:10px;height:10px;border-radius:50%}
.footer{position:fixed;bottom:0;left:0;right:0;text-align:center;color:#999;font-size:12px;padding:6px 8px;pointer-events:none}

.search-wrap{position:relative;display:flex;align-items:center;gap:6px}
#clearBtn{ background:#111;border:1px solid #2b2b2b;color:#ccc;border-radius:10px;padding:8px 10px;cursor:pointer }
#clearBtn:active{transform:scale(0.98)}

.sidebar.hidden{display:none}

@media (max-width:600px){
  .topbar{left:10px;right:10px;transform:none}
  .topbar input{min-width:unset;width:42vw}
}
